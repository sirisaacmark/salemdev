const{getCurrentPostId:getCurrentPostId}=wp.data.select("core/editor"),{isSavingMetaBoxes:isSavingMetaBoxes}=wp.data.select("core/edit-post"),{createNotice:createNotice,removeNotice:removeNotice}=wp.data.dispatch("core/editor"),{RawHTML:RawHTML,createElement:createElement}=wp.element,{PluginPostStatusInfo:PluginPostStatusInfo}=wp.editPost,{CheckboxControl:CheckboxControl}=wp.components,{registerPlugin:registerPlugin}=wp.plugins;var lastIsSaving=!1;function wpssoPlugin(){return createElement(PluginPostStatusInfo,{},wpssoPostRobotsOption())}function wpssoPostRobotsOption(){return sucomGutenbergL10n._option_labels.robots}function wpssoUpdateMetabox(){var e={action:"wpsso_get_metabox_post",post_id:getCurrentPostId(),_ajax_nonce:sucomGutenbergL10n._ajax_nonce,_metabox_id:sucomGutenbergL10n._metabox_id};jQuery.post(ajaxurl,e,function(e){e&&jQuery("#"+sucomGutenbergL10n._metabox_id).html(e)})}function wpssoCreateNotices(){var e={action:"wpsso_get_notices_json",context:"block_editor",_ajax_nonce:sucomGutenbergL10n._ajax_nonce,_exclude_notices:sucomGutenbergL10n._tb_notices};jQuery.getJSON(ajaxurl,e,function(e){jQuery.each(e,function(o){jQuery.each(e[o],function(t){var s=!1,n=e[o][t].msg_html,a=createElement(RawHTML,{},n),r={id:t,spokenMessage:e[o][t].msg_spoken,isDismissible:!1};"err"==o?s="error":"warn"==o?s="warning":"inf"==o?s="info":"upd"==o&&(s="success"),s&&(removeNotice(t),createNotice(s,a,r),jQuery("div.wpsso-notice").parents("div.notice").removeClass())})})})}function wpssoUpdateToolbar(){if(sucomGutenbergL10n._tb_notices){var e={action:"wpsso_get_notices_json",context:"toolbar_notices",_ajax_nonce:sucomGutenbergL10n._ajax_nonce,_notice_types:sucomGutenbergL10n._tb_notices};jQuery.getJSON(ajaxurl,e,function(e){var o="",t="",s=0,n={},a=sucomGutenbergL10n._no_notices_html;jQuery.each(e,function(t){jQuery.each(e[t],function(a){e[t][a].hidden&&e[t][a]["no-unhide"]||(o+=e[t][a].msg_html,e[t][a]["no-count"]||(s++,n[t]=++n[t]||1))})}),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-error"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-warning"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-info"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-success"),o?(jQuery("#wp-admin-bar-wpsso-toolbar-notices-container").html(o),jQuery("#wp-admin-bar-wpsso-toolbar-notices").addClass("have-notices")):(jQuery("#wp-admin-bar-wpsso-toolbar-notices-container").html(a),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices")),jQuery("#wpsso-toolbar-notices-count").html(s),s&&(n.err?t="error":n.warn?t="warning":n.inf?t="info":n.upd&&(t="success"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").addClass("have-notices-"+t))})}}jQuery(document).ready(function(){wpssoCreateNotices(),wpssoUpdateToolbar()}),wp.data.subscribe(function(){var e=isSavingMetaBoxes();e===lastIsSaving||e||(lastIsSaving=e,wpssoUpdateMetabox(),wpssoCreateNotices(),wpssoUpdateToolbar()),lastIsSaving=e});