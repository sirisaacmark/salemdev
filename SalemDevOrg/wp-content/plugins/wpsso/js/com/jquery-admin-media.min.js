jQuery(document).ready(function(t){var e;t(".sucom_image_upload_button").click(function(i){opt_prefix=t(this).attr("id").replace(/^button_(.*)$/,"$1"),opt_suffix="",opt_prefix.match(/^.*_[0-9]+$/)&&(opt_suffix=opt_prefix.replace(/^(.*)(_[0-9]+)$/,"$2"),opt_prefix=opt_prefix.replace(/^(.*)(_[0-9]+)$/,"$1")),default_pid=t(this).attr("data-pid"),i.preventDefault(),void 0!==e&&e.close(),(e=wp.media({title:sucomMediaL10n._select_image,button:{text:sucomMediaL10n._select_image},multiple:!1,library:{type:"image"}})).on("open",function(){if(t.isNumeric(default_pid)&&default_pid){var i=e.state().get("selection");attachment=wp.media.attachment(default_pid),i.add(attachment?[attachment]:[])}t(".media-modal",this.el).find("#media-search-input").focus()}),e.on("select",function(){var i=e.state().get("selection").first().toJSON();t("#text_"+opt_prefix+"_id"+opt_suffix).val(i.id),t("#select_"+opt_prefix+"_id_pre"+opt_suffix).val("wp"),t("#text_"+opt_prefix+"_url"+opt_suffix).prop("disabled",!0)}),e.open()})});